{"version":3,"sources":["src/js/statemachine_designer.js","src/js/statemachine_designer/state.js"],"names":[],"mappings":"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","file":"dist/js/statemachine_designer.js","sourcesContent":["class StatemachineDesigner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { states: [], transitions: [] };\n\n    // test\n    this.state.states = [\n      { x: 100, y: 100, name: \"New\" },\n      { x: 200, y: 100, name: \"Detected\" }\n    ];\n  }\n\n  render() {\n    var states = null;\n    var transitions = null;\n\n    states = this.state.states.map(function(state, index) {\n      return (\n        <StatemachineDesigner.State\n          key={`state-${index}`}\n          name={state.name}\n          x={state.x}\n          y={state.y}\n        />\n      );\n    });\n\n    return (\n      <div className=\"smd-canvas\">\n        {transitions}\n        {states}\n      </div>\n    );\n  }\n}\n","StatemachineDesigner.State = class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name:      props.name,\n      x:         props.x,\n      y:         props.y,\n      dragStart: false,\n      dragging:  false\n    };\n\n    // messy js scope bindings\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mouseup\", this.handleMouseUp);\n    document.removeEventListener(\"mousemove\", this.handleMouseMove);\n  }\n\n  handleMouseDown(event) {\n    if(!this.state.dragging) {\n      this.addDragEventListeners();\n      this.setState({ dragging: true });\n    }\n  }\n\n  handleMouseMove(event) {\n    if(!this.state.dragging) return;\n  }\n\n  handleMouseUp(event) {\n    if(this.state.dragging) {\n      this.removeDragEventListeners();\n      this.setState({ dragging: false });\n    }\n  }\n\n  addDragEventListeners() {\n    document.addEventListener(\"mousemove\", this.handleMouseMove, false);\n    document.addEventListener(\"mouseup\", this.handleMouseUp, false);\n  }\n\n  removeDragEventListeners() {\n    document.removeEventListener(\"mousemove\", this.handleMouseMove, false);\n    document.removeEventListener(\"mouseup\", this.handleMouseUp);\n  }\n\n  getClassName() {\n    var className = \"smd-state\";\n\n    if(this.state.dragging) {\n      className += \" smd-state--dragging\";\n    }\n\n    return className;\n  }\n\n  getStyle() {\n    return { left: this.state.x, top: this.state.y };\n  }\n\n  render() {\n    return (\n      <div\n        className={this.getClassName()}\n        style={this.getStyle()}\n        onMouseDown={this.handleMouseDown.bind(this)}>\n\n        {this.state.name}\n\n      </div>\n    );\n  }\n}\n"]}